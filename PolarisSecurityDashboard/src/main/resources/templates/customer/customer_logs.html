<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/customer_layout}">

<head>
  <meta charset="UTF-8" />
  <title>고객사 로그</title>
  <link rel="stylesheet" th:href="@{/css/customer_logs.css}" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div layout:fragment="content" class="layout">
    <main class="content">
      <header class="breadcrumb">
        <span>Dashboards</span> / <span> 유입 로그 분석</span>
      </header>

      <section class="log-card">
        <h2 th:text="${domain} + ' 유입 로그'">m.yebyeol.co.kr 유입 로그</h2>

        <section class="table-section">
          <table>
            <thead>
              <tr>
                <th>시간</th>
                <th>IP</th>
                <th>경로</th>
                <th>User-Agent</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="log : ${logs}">
                <td th:text="${#temporals.format(log.eventTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                <td th:text="${log.ip}"></td>
                <td th:text="${log.featureName != null ? log.featureName : '-'}"></td>
                <td th:text="${log.userAgent}"></td>
              </tr>
              <tr th:if="${#lists.isEmpty(logs)}">
                <td colspan="4" class="empty">데이터가 없습니다.</td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
    </main>
  </div>

  <script th:src="@{/js/customer_logs.js}"></script>
</body>
</html>
