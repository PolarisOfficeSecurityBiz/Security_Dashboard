<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/admin_layout}">

<head>
  <meta charset="UTF-8"/>
  <title th:text="${customer.customerName} + ' 라이선스 정보'">라이선스 정보</title>
  <link rel="stylesheet" th:href="@{/css/license.css}" />
</head>

<body>
<div layout:fragment="content" class="layout">
  <main class="content">
    <header class="breadcrumb">
      <span>Dashboards</span> / <span>회사 정보 관리</span>
    </header>

    <section class="license-card">
      <h2>라이선스 정보</h2>

      <div class="form">
        <label>고객사 명</label>
        <input type="text" th:value="${customer.customerName}" readonly />

        <label>서비스 명</label>
        <input type="text" th:value="${service != null ? service.serviceName : '-'}" readonly />

        <label>도메인</label>
        <input type="text" th:value="${service != null ? service.domain : '-'}" readonly />

<label>라이선스 키</label>
<div class="input-group">
  <input type="text" th:value="${service != null ? service.licenseId : '-'}" id="licenseKey" readonly />
  <button id="downloadKeyBtn" title="라이선스 파일 다운로드">⭳</button>
</div>

        <label>라이선스 만료일</label>
        <div class="input-group">
          <input type="text" th:value="${service != null ? service.updateAt : '-'}" readonly />
          <button class="btn-green" id="extendBtn">연장요청</button>
        </div>

        <label>최신 SDK</label>
        <div class="input-group">
          <input type="text" th:value="${service != null ? 'ver20250912_SDK_RB' : '-'}" readonly />
          <a class="btn-green" th:href="@{'/api/sdk/download/' + ${service != null ? service.serviceId : 0}}">다운로드</a>
        </div>
      </div>
    </section>
  </main>
</div>

<script th:src="@{/js/license.js}"></script>
</body>
</html>
