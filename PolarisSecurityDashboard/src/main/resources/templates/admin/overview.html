<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/admin_layout}">
<head>
  <th:block layout:fragment="pageStyle">
    <link rel="stylesheet" th:href="@{/css/overview.css}">
  </th:block>
</head>

<body>
<div layout:fragment="content" class="overview-page">
  <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
  <div class="breadcrumb">
    <a th:href="@{/admin/overview}">Dashboard</a> / <strong>Overview</strong>
  </div>

  <!-- KPI Ïπ¥Îìú -->
  <section class="kpi-section">
    <div class="kpi-card total">
      <div class="icon">üë•</div>
      <div>
        <p class="label">Total Customers</p>
        <h3 th:text="${metrics.totalCustomers}">0</h3>
        <span class="delta up">‚ñ≤ 16% this month</span>
      </div>
    </div>

    <div class="kpi-card vguard">
      <div class="icon">üõ°Ô∏è</div>
      <div>
        <p class="label">V-Guard</p>
        <h3 th:text="${metrics.vguard}">0</h3>
        <span class="delta down">‚ñº 1% this month</span>
      </div>
    </div>

    <div class="kpi-card secuone">
      <div class="icon">üíª</div>
      <div>
        <p class="label">SecuOne</p>
        <h3 th:text="${metrics.secuone}">0</h3>
        <span class="delta same">‚Äî this month</span>
      </div>
    </div>
  </section>

  <!-- ÎèÑÎ©îÏù∏Î≥Ñ ÌÖåÏù¥Î∏î -->
  <section class="panel">
    <div class="panel-header">
      <h3>ÎèÑÎ©îÏù∏Î≥Ñ ÌÜµÍ≥Ñ</h3>
    </div>
    <div class="panel-body">
      <table>
        <thead>
        <tr>
          <th>Domain</th>
          <th>Count</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="d : ${logsSummary.byDomain}">
          <td th:text="${d.domain}">example.com</td>
          <td th:text="${d.count}">23</td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- ÏµúÍ∑º Îì±Î°ù Í≥†Í∞ùÏÇ¨ -->
  <section class="panel">
    <div class="panel-header">
      <h3>ÏµúÍ∑º Îì±Î°ù Í≥†Í∞ùÏÇ¨</h3>
      <a th:href="@{/admin/customers}" class="more">Ï†ÑÏ≤¥ Î≥¥Í∏∞</a>
    </div>
    <div class="panel-body">
      <table>
        <thead>
        <tr>
          <th>Í≥†Í∞ùÏÇ¨Î™Ö</th>
          <th>Ïó∞Í≤∞ÏÇ¨</th>
          <th>ÏÉùÏÑ±Ïùº</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${recentCustomers}">
          <td th:text="${c.customerName}">Ìè¥ÎùºÎ¶¨Ïä§</td>

          <!-- ‚úÖ ÏïàÏ†ÑÌïú ÌÉÄÏûÖ Í≤ÄÏÇ¨ + null Ï≤òÎ¶¨ -->
          <td th:text="${c.connectedCompany != null ? (c.connectedCompany instanceof T(com.polarisoffice.security.model.Customer) ? c.connectedCompany.customerName : c.connectedCompany) : '-'}">-</td>

          <td th:text="${c.createAt}">2025-09-16</td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>
</div>
</body>
</html>
