<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/admin_layout}">
<head>
  <meta charset="UTF-8" />
  <title>Polaris Admin Dashboard</title>
  <th:block layout:fragment="pageStyle">
    <link rel="stylesheet" th:href="@{/css/overview.css}">
  </th:block>
</head>

<body>
<div layout:fragment="content" class="overview-page">

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a th:href="@{/admin/overview}">Dashboard</a> /
    <strong>Overview</strong>
  </div>

  <!-- KPI Section -->
  <section class="kpi-section">
    <div class="kpi-card total">
      <div class="icon">ğŸ‘¥</div>
      <div>
        <p class="label">Total Customers</p>
        <h3 th:text="${metrics.totalCustomers}">0</h3>
        <span class="delta up">â–² 16% this month</span>
      </div>
    </div>

    <div class="kpi-card vguard">
      <div class="icon">ğŸ›¡ï¸</div>
      <div>
        <p class="label">V-Guard</p>
        <h3 th:text="${metrics.vguard}">0</h3>
        <span class="delta down">â–¼ 1% this month</span>
      </div>
    </div>

    <div class="kpi-card secuone">
      <div class="icon">ğŸ’»</div>
      <div>
        <p class="label">SecuOne</p>
        <h3 th:text="${metrics.secuone}">0</h3>
        <span class="delta same">â€” this month</span>
      </div>
    </div>
  </section>

  <!-- ë„ë©”ì¸ë³„ í†µê³„ -->
  <section class="panel">
    <div class="panel-header">
      <h3>ë„ë©”ì¸ë³„ í†µê³„</h3>
    </div>
    <div class="panel-body">
      <table>
        <thead>
        <tr>
          <th>Domain</th>
          <th>Count</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="d : ${logsSummary.byDomain}">
          <td th:text="${d.domain}">example.com</td>
          <td th:text="${d.count}">23</td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- ìµœê·¼ ë“±ë¡ ê³ ê°ì‚¬ -->
  <section class="panel">
    <div class="panel-header">
      <h3>ìµœê·¼ ë“±ë¡ ê³ ê°ì‚¬</h3>
      <a th:href="@{/admin/customers}" class="more">ì „ì²´ ë³´ê¸°</a>
    </div>
    <div class="panel-body">
      <table>
        <thead>
        <tr>
          <th>ê³ ê°ì‚¬ëª…</th>
          <th>ì—°ê²°ì‚¬</th>
          <th>ìƒì„±ì¼</th>
        </tr>
        </thead>
        <tbody>
			<tr th:each="c : ${recentCustomers}">
			  <td th:text="${c['customerName']}">í´ë¼ë¦¬ìŠ¤</td>
			  <td th:text="${c['connectedCompanyName'] != null ? c['connectedCompanyName'] : '-'}">-</td>
			  <td th:text="${c['createAt']}">2025-09-16</td>
			</tr>

        </tbody>
      </table>
    </div>
  </section>

</div>
</body>
</html>
